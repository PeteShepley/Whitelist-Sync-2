description = "WhitelistSyncCore"

apply plugin: 'eclipse'

eclipse {
    project {
        name = "WhitelistSync(WhitelistSyncCore)"
    }
}

repositories {
    mavenCentral()
}

sourceCompatibility = targetCompatibility = compileJava.sourceCompatibility = compileJava.targetCompatibility = '1.8' // Need this here so eclipse task generates correctly.

dependencies {
    compileOnly "com.google.code.gson:gson:2.8.9"
    implementation 'org.apache.httpcomponents:httpclient:4.5.13'
    implementation 'org.apache.httpcomponents:httpcore:4.4.16'
}

jar {
    archiveClassifier = 'unshaded'
}


shadowJar {
    dependencies {
        include(dependency('org.apache.httpcomponents:httpclient:'))
        include(dependency('org.apache.httpcomponents:httpcore:'))
    }
    relocate('org.apache.httpcomponents', 'net.rmnad.org.apache.httpcomponents')

    destinationDirectory = file '../target'
    archiveClassifier = ''
}

artifacts {
    archives shadowJar
}
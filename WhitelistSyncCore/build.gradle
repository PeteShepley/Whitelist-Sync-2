description = "WhitelistSyncCore"

apply plugin: 'eclipse'

eclipse {
    project {
        name = "WhitelistSync(WhitelistSyncCore)"
    }
}

repositories {
    mavenCentral()
}

sourceCompatibility = targetCompatibility = compileJava.sourceCompatibility = compileJava.targetCompatibility = '1.8' // Need this here so eclipse task generates correctly.

dependencies {
    compileOnly "com.google.code.gson:gson:2.8.9"
    implementation 'com.squareup.okhttp3:okhttp:4.12.0'
    implementation 'io.socket:socket.io-client:2.1.1'
}

jar {
    archiveClassifier = 'unshaded'
}


shadowJar {
    dependencies {
        include(dependency('com.squareup.okhttp3:okhttp:'))
        include(dependency('io.socket:socket.io-client:'))
    }
    relocate('com.squareup.okhttp3', 'net.rmnad.com.squareup.okhttp3')
    relocate('io.socket', 'net.rmnad.io.socket')

    destinationDirectory = file '../target'
    archiveClassifier = ''
}

artifacts {
    archives shadowJar
}